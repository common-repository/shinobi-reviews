!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.blocks,n=window.wp.i18n,i=window.React,r=e.n(i),l=window.wp.serverSideRender,a=e.n(l),o=window.wp.components,s=window.wp.apiFetch,c=e.n(s);const m=e=>{const{id:t,setAttributes:l}=e,[a,s]=(0,i.useState)([]);return(0,i.useEffect)((()=>{c()({path:"shinobi-reviews/v2/forms"}).then((e=>{if(e){const n=e;s(n),n.find((e=>{let{value:n}=e;return t===n}))||l({id:""})}})).catch((()=>{console.error("Failed to fetch form data.")}))}),[]),r().createElement(o.SelectControl,{hideLabelFromVision:!0,label:(0,n.__)("Select a form","shinobi-reviews"),value:t,onChange:e=>{l({id:e})},options:[{value:"",label:(0,n.__)("Select a form","shinobi-reviews"),disabled:!0},...a]})};var d=r().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 90 85.92"},r().createElement("defs",null,r().createElement("clipPath",{id:"a",transform:"translate(-5 -7.04)"},r().createElement("polygon",{points:"5.17 39.92 12.68 42.55 40.87 42.3 39.1 39.59 5.17 39.92",fill:"none"})),r().createElement("clipPath",{id:"b",transform:"translate(-5 -7.04)"},r().createElement("polygon",{points:"50 7.17 50 15.63 58.99 42.31 60.73 39.61 50 7.17",fill:"none"})),r().createElement("clipPath",{id:"c",transform:"translate(-5 -7.04)"},r().createElement("polygon",{points:"64.45 59.19 87.3 42.62 94.78 40.13 67.42 60.18 64.45 59.19",fill:"none"})),r().createElement("clipPath",{id:"d",transform:"translate(-5 -7.04)"},r().createElement("polygon",{points:"50.16 69.53 73.01 85.87 77.89 92.92 50.13 72.81 50.16 69.53",fill:"none"})),r().createElement("clipPath",{id:"e",transform:"translate(-5 -7.04)"},r().createElement("polygon",{points:"26.95 85.85 22.15 92.78 32.56 60.06 35.52 59.12 26.95 85.85",fill:"none"})),r().createElement("clipPath",{id:"f",transform:"translate(-5 -7.04)"},r().createElement("path",{d:"M43.52,53.52a6.66,6.66,0,1,1,6.66,6.66A6.66,6.66,0,0,1,43.52,53.52ZM50.13,59a5.67,5.67,0,0,0,5.73-5.6,5.74,5.74,0,0,0-11.46,0A5.66,5.66,0,0,0,50.13,59Z",fill:"none"}))),r().createElement("path",{d:"M60.75,39.71,95,40,67.31,60.19,78,93,50.09,72.73l-27.93,20L32.62,60,5,39.91l34.12-.31L50,7ZM50.13,59a5.52,5.52,0,1,0-5.73-5.52A5.63,5.63,0,0,0,50.13,59Z",transform:"translate(-5 -7.04)",fill:"#fff28e"}),r().createElement("path",{d:"M58.93,42.37l28.43.27-23,16.54,8.85,26.88L50.08,69.46,26.89,85.89l8.68-26.84L12.64,42.54,41,42.28l9-26.71ZM50.13,59a5.52,5.52,0,1,0-5.73-5.52A5.63,5.63,0,0,0,50.13,59Z",transform:"translate(-5 -7.04)",fill:"#fed600"}));(0,t.registerBlockType)("shinobi-reviews/shinobi-reviews",{title:(0,n.__)("Shinobi Reviews","shinobi-reviews"),icon:d,category:"widgets",attributes:{id:{type:"string",default:""},is_membership:{type:"boolean",default:!1}},edit:e=>{const{name:t}=e,{attributes:l,setAttributes:s}=e,{id:c,is_membership:d}=l,[f,p]=(0,i.useState)(!1);return r().createElement(r().Fragment,null,r().createElement(o.Button,{onClick:()=>{p(!0)},variant:"primary"},(0,n.__)("Form Settings","shinobi-reviews")),f&&r().createElement(o.Modal,{title:(0,n.__)("Form Settings","shinobi-reviews"),onRequestClose:()=>{p(!1)}},r().createElement("div",null,r().createElement(m,{id:c,setAttributes:s}),r().createElement("div",{style:{padding:"0 0.25em"}},r().createElement("a",{href:shinobiReviewsMainPageUrl},(0,n.__)("Do creating a new form or editing an exist form","shinobi-reviews"))),r().createElement("hr",{style:{margin:"1.5em auto"}}),r().createElement(o.ToggleControl,{label:(0,n.__)("Enable membership system","shinobi-reviews"),help:(0,n.__)("If the value of global settings is enabled, this setting is ignored.","shinobi-reviews"),checked:d,onChange:()=>{s({is_membership:!d})}}))),r().createElement(o.Disabled,null,r().createElement(a(),{block:t,attributes:l})))},save:()=>null})}();